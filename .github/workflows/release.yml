# This workflow should publish a release for all packages in the monorepo that are correctly setup

name: Release Packages

on:
  push:
    branches:
      - feat/release-final

env:
  NODE_VERSION: 18

permissions: write-all

jobs:
  create-tag:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - uses: rickstaa/action-create-tag@v1
        id: "tag_create"
        with:
          tag: "latest"
          tag_exists_error: false
          message: |
            "Latest release"
            "Test 1"
            "Line 3"

      # Print result using the env variable.
      - run: |
          echo "Tag already present: ${{ env.TAG_EXISTS }}"

      # Print result using the action output.
      - run: |
          echo "Tag already present: ${{ steps.tag_create.outputs.tag_exists }}"
